---
title: "MongoDB: Documents"
datePublished: Wed Jul 12 2023 14:57:57 GMT+0000 (Coordinated Universal Time)
cuid: cljzuihnn000a09ld00ac2fjb
slug: mongodb-documents
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1689173416408/d3260e44-ba8b-435d-9949-9c524c117936.webp
tags: nosql, mongodb, databases

---

One of the key features that sets MongoDB apart from traditional relational databases is its use of documents. In this blog post, we will explore the concept of documents in MongoDB and how they are structured.

## What are Documents?

In MongoDB, a document is a basic unit of data storage. It is similar to a row in a table in a relational database but with a more flexible structure. A document is represented as a JSON-like object, which means it consists of key-value pairs.

Here's an example of a document representing a user in a hypothetical social media application:

```json
{
  "_id": "123456789",
  "username": "johndoe",
  "email": "johndoe@example.com",
  "age": 30,
  "isVerified": true
}
```

In this example, each field represents a piece of data about the user. The `"_id"` field is a unique identifier for the document, which is automatically generated by MongoDB if not provided explicitly. Other fields include `username`, `email`, `age`, and `isVerified`, each storing different types of data.

## Flexible Schema

Unlike traditional relational databases, MongoDB does not enforce a rigid schema. This flexibility allows you to store documents with varying structures within the same collection. You can add or remove fields from documents without affecting other documents in the collection.

For instance, let's consider a document representing a blog post:

```json
{
  "_id": "987654321",
  "title": "Introduction to MongoDB",
  "author": "johndoe",
  "content": "MongoDB is a powerful NoSQL database...",
  "tags": ["MongoDB", "NoSQL", "Database"],
  "createdAt": "2023-07-10T10:30:00Z"
}
```

In this example, the document contains additional fields like `tags` and `createdAt` specific to a blog post. This flexibility enables you to store diverse data structures efficiently and evolve your application's schema over time.

## Rich Data Model

MongoDB's document model supports a wide range of data types, including:

* **String**: `"Hello, MongoDB"`
    
* **Number**: `42`
    
* **Boolean**: `true`
    
* **Array**: `["apple", "banana", "orange"]`
    
* **Object**: `{"name": "John", "age": 30}`
    
* **Date**: `"2023-07-12T14:00:00Z"`
    

Nested objects and arrays can be used to represent complex data structures. This rich data model allows you to store and query data in a way that closely aligns with your application's needs.

## Querying Documents

MongoDB provides a powerful query language that allows you to search for documents based on specific criteria. You can use a wide range of operators to perform queries on fields within documents.

Here's an example query to find all users with an age greater than 25:

```javascript
db.users.find({ age: { $gt: 25 } })
```

This query searches the `users` collection for documents where the `age` field is greater than 25. MongoDB's query language provides a lot of flexibility, enabling you to perform complex searches with ease.

## The `_id` Field

In MongoDB, every document has a special field called `_id`. This field serves as a unique identifier for the document within its collection. MongoDB automatically assigns a value to the `_id` field if one is not provided explicitly.

The `_id` field can have various data types, including strings, integers, objects, or even a combination of values. It is essential to have a unique `_id` value for each document to ensure efficient indexing and retrieval.

Here's an example of a document with a custom `_id` value:

```json
{
  "_id": "5fde63be831b8e2b3cd3b1cf",
  "title": "Sample Document",
  "content": "This is an example document with a custom _id."
}
```

MongoDB's automatic `_id` assignment is based on an ObjectId, a 12-byte identifier consisting of a timestamp, a machine identifier, a process identifier, and a random value. ObjectId ensures that each document has a unique identifier, even in distributed environments.

When querying documents, you can use the `_id` field to retrieve specific documents or perform operations like updates, deletions, or comparisons.

```javascript
// Retrieving a document by _id
db.collection.findOne({ _id: "5fde63be831b8e2b3cd3b1cf" })

// Updating a document by _id
db.collection.updateOne({ _id: "5fde63be831b8e2b3cd3b1cf" }, { $set: { title: "Updated Title" } })

// Deleting a document by _id
db.collection.deleteOne({ _id: "5fde63be831b8e2b3cd3b1cf" })
```

It's worth noting that the `_id` field is immutable once set, meaning you cannot modify it directly. However, you can replace the entire document with a new `_id` value if needed.

By leveraging the `_id` field, you can efficiently identify, manipulate, and interact with documents in MongoDB.

## Updating Documents

In MongoDB, updating documents is a straightforward process. You can modify existing fields or add new ones using the `updateOne()` or `updateMany()` methods.

Let's say we want to update the email address of a user with the username "johndoe". Here's an example of how you can achieve that:

```javascript
db.users.updateOne(
  { username: "johndoe" },
  { $set: { email: "newemail@example.com" } }
)
```

This code snippet uses the `updateOne()` method to find the document with the matching username and updates the `email` field with the new email address. The `$set` operator is used to specify the field to be updated.

## Deleting Documents

Deleting documents in MongoDB is also simple. You can remove one or multiple documents that match specific criteria using the `deleteOne()` or `deleteMany()` methods.

Suppose we want to delete a user document with the email address "[johndoe@example.com](mailto:johndoe@example.com)". Here's an example of how to delete it:

```javascript
db.users.deleteOne({ email: "johndoe@example.com" })
```

This code snippet uses the `deleteOne()` method to find the document with the matching email address and removes it from the collection.

## Indexing Documents

To improve the performance of queries, MongoDB supports indexing on fields within documents. Indexes help speed up data retrieval by creating a data structure that allows for efficient searching.

Creating an index on a field can be done using the `createIndex()` method. For example, let's create an index on the `username` field in the `users` collection:

```javascript
db.users.createIndex({ username: 1 })
```

In this case, the `1` indicates that the index should be created in ascending order. Indexes can significantly enhance query performance, especially when working with large datasets.